*******************************************************************************
* MUSCOD-II example
*
* Implementation of pendulum on a cart using RBDL
*
* Copyright (C) 2015, Manuel Kudruss, IWR, Heidelberg
*******************************************************************************

*  # of multiple shooting intervals on model stages
nshoot
0: 60

*  model stage duration start values, scale factors, and bounds

h
  0: 3.0

h_min
  0: 3.0

h_max
  0: 3.0

h_sca
  0: 1.0

h_fix
  0: 1

*  parameters start values, scale factors, and bounds

p
  0: 0.0

p_min
  0: 0.0

p_max
  0: 0.0

p_sca
  0: 1.0

p_fix
  0: 0

* specification mode for state variable start values
* 0 : all values sd(*,*), sa(*,*) specified in data file
* 1 : linear interpolation
* 2 : start values given, all others generated by integration

s_spec
0

*  differential state start values, scale factors, and bounds

sd_min(0,0)
0:  0.0
1:  3.14159
2:  0.0
3:  0.0

sd_max(0,0)
0:  0.0
1:  3.14159
2:  0.0
3:  0.0

######################################################################
# DAT FILE INITIALIZATION
######################################################################

sd(0,0)  ! 0
  0:   0.0000000000000000E+00
  1:   3.1415899999999999E+00
  2:   0.0000000000000000E+00
  3:   0.0000000000000000E+00

sd(0,1)  ! 1
  0:   1.1152486173686289E-02
  1:   3.1634552258379558E+00
  2:   4.4591534119357679E-01
  3:   8.7069705562382238E-01

sd(0,2)  ! 2
  0:   4.0611522151597745E-02
  1:   3.2201479335648164E+00
  2:   7.3191183764310874E-01
  3:   1.3865806241615948E+00

sd(0,3)  ! 3
  0:   8.1373021278536961E-02
  1:   3.2951599735221104E+00
  2:   8.9781516585163879E-01
  3:   1.5999967054360267E+00

sd(0,4)  ! 4
  0:   1.2827795938273043E-01
  1:   3.3747342349214708E+00
  2:   9.7767938727407788E-01
  3:   1.5686385354489369E+00

sd(0,5)  ! 5
  0:   1.7767879305268980E-01
  1:   3.4479810496961472E+00
  2:   9.9784876054055882E-01
  3:   1.3487777724538361E+00

sd(0,6)  ! 6
  0:   2.2698961618162217E-01
  1:   3.5065736643252703E+00
  2:   9.7431774707661389E-01
  3:   9.8567461469270634E-01

sd(0,7)  ! 7
  0:   2.7413396077549135E-01
  1:   3.5440429721862281E+00
  2:   9.1137107376183857E-01
  3:   5.0764067971457105E-01

sd(0,8)  ! 8
  0:   3.1695759428288978E-01
  1:   3.5548777243914094E+00
  2:   8.0157047351000799E-01
  3:  -7.5702760553148660E-02

sd(0,9)  ! 9
  0:   3.5265399570913597E-01
  1:   3.5335764062120179E+00
  2:   6.2626461449148108E-01
  3:  -7.7371695716003275E-01

sd(0,10)  ! 10
  0:   3.7722020498428638E-01
  1:   3.4736830461111823E+00
  2:   3.5630502172431622E-01
  3:  -1.6150414915884646E+00

sd(0,11)  ! 11
  0:   3.8499240962986669E-01
  1:   3.3669044390768010E+00
  2:  -4.5371956664556290E-02
  3:  -2.6434107479306426E+00

sd(0,12)  ! 12
  0:   3.6851489211722638E-01
  1:   3.2029933948686331E+00
  2:  -6.1266814656893420E-01
  3:  -3.8893227855656920E+00

sd(0,13)  ! 13
  0:   3.1954488361130945E-01
  1:   2.9727123989123307E+00
  2:  -1.3417156271294832E+00
  3:  -5.2735030156155949E+00

sd(0,14)  ! 14
  0:   2.3468652591806652E-01
  1:   2.6815357331387646E+00
  2:  -2.0434805096036386E+00
  3:  -6.2914473717292587E+00

sd(0,15)  ! 15
  0:   1.1646285779388758E-01
  1:   2.3533065521914933E+00
  2:  -2.6756130332156891E+00
  3:  -6.7395461254060818E+00

sd(0,16)  ! 16
  0:  -2.4720571128621749E-02
  1:   2.0261165958700671E+00
  2:  -2.9698474332199676E+00
  3:  -6.2896823645453397E+00

sd(0,17)  ! 17
  0:  -1.7159864616429893E-01
  1:   1.7353371310642087E+00
  2:  -2.9100447797854576E+00
  3:  -5.3355810847403990E+00

sd(0,18)  ! 18
  0:  -3.0921745579044707E-01
  1:   1.4938383016450583E+00
  2:  -2.6000640232343195E+00
  3:  -4.3477185669184015E+00

sd(0,19)  ! 19
  0:  -4.2814732328032140E-01
  1:   1.2971555032277677E+00
  2:  -2.1605742856650751E+00
  3:  -3.5518614064173217E+00

sd(0,20)  ! 20
  0:  -5.2415697464274624E-01
  1:   1.1347191929436464E+00
  2:  -1.6815225242176861E+00
  3:  -2.9774214651615032E+00

sd(0,21)  ! 21
  0:  -5.9661367307352808E-01
  1:   9.9657255659338528E-01
  2:  -1.2174125893610432E+00
  3:  -2.5769459226590001E+00

sd(0,22)  ! 22
  0:  -6.4695880657881455E-01
  1:   8.7545931408695621E-01
  2:  -7.9651374809458630E-01
  3:  -2.2924387553355312E+00

sd(0,23)  ! 23
  0:  -6.7764258847726477E-01
  1:   7.6674858911513133E-01
  2:  -4.3068891624288985E-01
  3:  -2.0776354619866475E+00

sd(0,24)  ! 24
  0:  -6.9147721787539029E-01
  1:   6.6775217160757672E-01
  2:  -1.2241851171306722E-01
  3:  -1.9011996103856983E+00

sd(0,25)  ! 25
  0:  -6.9127552842836637E-01
  1:   5.7703899294071259E-01
  2:   1.3082447425265112E-01
  3:  -1.7441056201698477E+00

sd(0,26)  ! 26
  0:  -6.7966423145033061E-01
  1:   4.9390756633451960E-01
  2:   3.3399333363586331E-01
  3:  -1.5960885964101235E+00

sd(0,27)  ! 27
  0:  -6.5899926758103022E-01
  1:   4.1802508780922826E-01
  2:   4.9298163095734099E-01
  3:  -1.4525694439170398E+00

sd(0,28)  ! 28
  0:  -6.3133935704737543E-01
  1:   3.4920176927193519E-01
  2:   6.1379102798635021E-01
  3:  -1.3123300888911571E+00

sd(0,29)  ! 29
  0:  -5.9845145801064625E-01
  1:   2.8726378214426834E-01
  2:   7.0209263974126446E-01
  3:  -1.1758952570518379E+00

sd(0,30)  ! 30
  0:  -5.6183230274327722E-01
  1:   2.3199258712204404E-01
  2:   7.6302545944826528E-01
  3:  -1.0444933286889946E+00

sd(0,31)  ! 31
  0:  -5.2273657476566882E-01
  1:   1.8310526713851136E-01
  2:   8.0113353934815956E-01
  3:  -9.1945146074640660E-01

sd(0,32)  ! 32
  0:  -4.8220634542799573E-01
  1:   1.4025750140545695E-01
  2:   8.2037870894599796E-01
  3:  -8.0188953608851210E-01

sd(0,33)  ! 33
  0:  -4.4109898176173451E-01
  1:   1.0305710388502569E-01
  2:   8.2418899552971214E-01
  3:  -6.9260177965733583E-01

sd(0,34)  ! 34
  0:  -4.0011231015276394E-01
  1:   7.1080632292341586E-02
  2:   8.1551954880933508E-01
  3:  -5.9204427440250040E-01

sd(0,35)  ! 35
  0:  -3.5980673855743395E-01
  1:   4.3889351611774957E-02
  2:   7.9691334547270598E-01
  3:  -5.0037443545398907E-01

sd(0,36)  ! 36
  0:  -3.2062448124131804E-01
  1:   2.1042681701501233E-02
  2:   7.7055625107490577E-01
  3:  -4.1750987830130454E-01

sd(0,37)  ! 37
  0:  -2.8290621600936505E-01
  1:   2.1086430253166909E-03
  2:   7.3832464212523408E-01
  3:  -3.4318905558584673E-01

sd(0,38)  ! 38
  0:  -2.4690554226641154E-01
  1:  -1.3328569935837238E-02
  2:   7.0182578115794358E-01
  3:  -2.7702540254702485E-01

sd(0,39)  ! 39
  0:  -2.1280157931240737E-01
  1:  -2.5663482246893021E-02
  2:   6.6243188401694597E-01
  3:  -2.1855200472682274E-01

sd(0,40)  ! 40
  0:  -1.8070999172308627E-01
  1:  -3.5266218800077950E-02
  2:   6.2130902494795182E-01
  3:  -1.6725663351290465E-01

sd(0,41)  ! 41
  0:  -1.5069267525932487E-01
  1:  -4.2480913714779932E-02
  2:   5.7944186049516677E-01
  3:  -1.2260812118700465E-01

sd(0,42)  ! 42
  0:  -1.2276629239099118E-01
  1:  -4.7625238552282109E-02
  2:   5.3765499131166261E-01
  3:  -8.4075605956522484E-02

sd(0,43)  ! 43
  0:  -9.6909804216779277E-02
  1:  -5.0990787344143682E-02
  2:   4.9663169992068623E-01
  3:  -5.1142080658960774E-02

sd(0,44)  ! 44
  0:  -7.3071126542282372E-02
  1:  -5.2843983074477845E-02
  2:   4.5693034997136200E-01
  3:  -2.3313617935388747E-02

sd(0,45)  ! 45
  0:  -5.1173010875999160E-02
  1:  -5.3427386320176282E-02
  2:   4.1899896181749735E-01
  3:  -1.2537123639537012E-04

sd(0,46)  ! 46
  0:  -3.1118241820017094E-02
  1:  -5.2961217818411295E-02
  2:   3.8318803429441789E-01
  3:   1.8854848881429655E-02

sd(0,47)  ! 47
  0:  -1.2794222406353920E-02
  1:  -5.1645058443195516E-02
  2:   3.4976214536595385E-01
  3:   3.4024462608742409E-02

sd(0,48)  ! 48
  0:   3.9229840912530607E-03
  1:  -4.9659595336251167E-02
  2:   3.1891015019787566E-01
  3:   4.5745165201664426E-02

sd(0,49)  ! 49
  0:   1.9165096764634633E-02
  1:  -4.7168411253049311E-02
  2:   2.9075434550856882E-01
  3:   5.4342495089620420E-02

sd(0,50)  ! 50
  0:   3.3068495065977033E-02
  1:  -4.4319792227031099E-02
  2:   2.6535872170832592E-01
  3:   6.0105521210091883E-02

sd(0,51)  ! 51
  0:   4.5771491510222855E-02
  1:  -4.1248559253951517E-02
  2:   2.4273649953864646E-01
  3:   6.3286185876058595E-02

sd(0,52)  ! 52
  0:   5.7411969644402545E-02
  1:  -3.8077955414147033E-02
  2:   2.2285720452292643E-01
  3:   6.4097732513840266E-02

sd(0,53)  ! 53
  0:   6.8125372381884916E-02
  1:  -3.4921652624941270E-02
  2:   2.0565360788584208E-01
  3:   6.2711471256123349E-02

sd(0,54)  ! 54
  0:   7.8043045743969752E-02
  1:  -3.1885988027954684E-02
  2:   1.9102900352489038E-01
  3:   5.9250788136484440E-02

sd(0,55)  ! 55
  0:   8.7290972158251684E-02
  1:  -2.9072608728105354E-02
  2:   1.7886551633465766E-01
  3:   5.3780731050599342E-02

sd(0,56)  ! 56
  0:   9.5988970395538664E-02
  1:  -2.6581807942158461E-02
  2:   1.6903446473579828E-01
  3:   4.6290646952880599E-02

sd(0,57)  ! 57
  0:   1.0425050367288972E-01
  1:  -2.4516995975240295E-02
  2:   1.6141033366959254E-01
  3:   3.6665952948392359E-02

sd(0,58)  ! 58
  0:   1.1218333580198384E-01
  1:  -2.2990998173209095E-02
  2:   1.5589073781836474E-01
  3:   2.4642965608675987E-02

sd(0,59)  ! 59
  0:   1.1989142586217238E-01
  1:  -2.2135257414593983E-02
  2:   1.5242602227500004E-01
  3:   9.7373800064868964E-03

sd(0,60)  ! 60
  0:   1.2750884576300503E-01
  1:  -2.2173214984324580E-02
  2:   1.5227109204139691E-01
  3:  -1.1262695253319016E-02


u(0,0)  ! 0
  0:   8.9396485218853812E+01

u(0,1)  ! 1
  0:   5.7801073471780931E+01

u(0,2)  ! 2
  0:   3.4510103573622558E+01

u(0,3)  ! 3
  0:   1.8119806912033425E+01

u(0,4)  ! 4
  0:   6.8396179715510881E+00

u(0,5)  ! 5
  0:  -1.5246707625860552E+00

u(0,6)  ! 6
  0:  -9.3116027981691776E+00

u(0,7)  ! 7
  0:  -1.8792018728040027E+01

u(0,8)  ! 8
  0:  -3.2110250692141847E+01

u(0,9)  ! 9
  0:  -5.1273436053846197E+01

u(0,10)  ! 10
  0:  -7.7870966804149617E+01

u(0,11)  ! 11
  0:  -1.1175120237366477E+02

u(0,12)  ! 12
  0:  -1.4722559759985640E+02

u(0,13)  ! 13
  0:  -1.5000000000000000E+02

u(0,14)  ! 14
  0:  -1.4792427196092939E+02

u(0,15)  ! 15
  0:  -8.4590647941012620E+01

u(0,16)  ! 16
  0:  -5.7626481676309460E+00

u(0,17)  ! 17
  0:   5.6113502350568723E+01

u(0,18)  ! 18
  0:   9.0431859787139203E+01

u(0,19)  ! 19
  0:   1.0241364770651850E+02

u(0,20)  ! 20
  0:   1.0068288913968055E+02

u(0,21)  ! 21
  0:   9.1908906666215088E+01

u(0,22)  ! 22
  0:   8.0205327135237752E+01

u(0,23)  ! 23
  0:   6.7853487713155573E+01

u(0,24)  ! 24
  0:   5.6024942564146954E+01

u(0,25)  ! 25
  0:   4.5260824502006976E+01

u(0,26)  ! 26
  0:   3.5755857780719587E+01

u(0,27)  ! 27
  0:   2.7521731214944971E+01

u(0,28)  ! 28
  0:   2.0480510974204091E+01

u(0,29)  ! 29
  0:   1.4517207515830494E+01

u(0,30)  ! 30
  0:   9.5080832293373998E+00

u(0,31)  ! 31
  0:   5.3345974473106574E+00

u(0,32)  ! 32
  0:   1.8891426558640501E+00

u(0,33)  ! 33
  0:  -9.2350035945704279E-01

u(0,34)  ! 34
  0:  -3.1867978960433656E+00

u(0,35)  ! 35
  0:  -4.9738093857010197E+00

u(0,36)  ! 36
  0:  -6.3486624283577884E+00

u(0,37)  ! 37
  0:  -7.3678744440770494E+00

u(0,38)  ! 38
  0:  -8.0814497882359113E+00

u(0,39)  ! 39
  0:  -8.5337549669641799E+00

u(0,40)  ! 40
  0:  -8.7642248950910542E+00

u(0,41)  ! 41
  0:  -8.8079389067141438E+00

u(0,42)  ! 42
  0:  -8.6960774413386144E+00

u(0,43)  ! 43
  0:  -8.4563516419522777E+00

u(0,44)  ! 44
  0:  -8.1133465783686685E+00

u(0,45)  ! 45
  0:  -7.6888680107953764E+00

u(0,46)  ! 46
  0:  -7.2021887117528012E+00

u(0,47)  ! 47
  0:  -6.6703421990877541E+00

u(0,48)  ! 48
  0:  -6.1083442035854567E+00

u(0,49)  ! 49
  0:  -5.5293927780560415E+00

u(0,50)  ! 50
  0:  -4.9450303310146131E+00

u(0,51)  ! 51
  0:  -4.3652557544878619E+00

u(0,52)  ! 52
  0:  -3.7985715940278313E+00

u(0,53)  ! 53
  0:  -3.2519386204486951E+00

u(0,54)  ! 54
  0:  -2.7305938382184953E+00

u(0,55)  ! 55
  0:  -2.2376684607457440E+00

u(0,56)  ! 56
  0:  -1.7735024323303024E+00

u(0,57)  ! 57
  0:  -1.3344958968011891E+00

u(0,58)  ! 58
  0:  -9.1125200319036148E-01

u(0,59)  ! 59
  0:  -2.4403386489186149E-01

ue(0)  ! 60-
  0:  -2.4403386489186149E-01

################################################################################

*  differential state start values, scale factors, and bounds

sd_sca(*,*)
ALL: 1.0

sd(*,*)
 0: 0.0
 1: 0.0
 2: 0.0
 3: 0.0

sd_min(*,*)
 0: -100.0
 1: -100.0
 2: -100.0
 3: -100.0

sd_max(*,*)
 0:  100.0
 1:  100.0
 2:  100.0
 3:  100.0

xd_name
 0: CartX
 1: PendPhi
 2: CartXDot
 3: PendPhiDot

*  control parameterization types
u_type(*)
ALL: 0

*  control start values, scale factors, and bounds
u(*,*)
 0: 0.0

u_sca(*,*)
 0: 1.0

u_min(*,*)
 0: -150.0

u_max(*,*)
 0:  150.0

udot_min(*,*)
 0: -50.0

udot_max(*,*)
 0:  50.0

u_name
 0: CartXAcc

*  decoupled i.p.c. scale factors
rd_sca(0,s)
ALL: 1.0

*rd_sca(0,i)
*ALL: 1.0

rd_sca(0,e)
ALL: 1.0

*rc_sca
*ALL: 1.0

of_name
!

*  objective scale and expected range; # of values in history plot
of_sca
1.0

of_min
0.0

of_max
1e+10

nhist
30

**********************
* Choosing libraries *
**********************
libmodel
libnmpc_cartpole

libhessian
hess_gaussnewton
*hess_update
*hess_limitedmemoryupdate
*hess_update

libsolve
solve_fullstep
*solve_slse

libcond
cond_std
cond_min
cond_stable

libtchk
tchk

libmssqp
mssqp_standard

libeval
eval_ind

libind
0: ind_rkfswt

libqps
qps_qpopt

libplot
plot_noplot
plot_pgplot
plot_noplot
plot_memplot

**********************************
* Setting algorithmic parameters *
**********************************

options_acc
1e-5
options_ftol
-1.0
options_itol
-1.0
options_rfac
0.0
options_levmar
0.0
options_qp_featol
1.0e-8
options_qp_relax
1.1
options_nhtopy
0
options_frstart
0
options_frmax
0
options_itmax
1000
options_plevel_screen
0
options_plevel_file
-1
options_plevel_matlab
-1
options_bflag
-1
options_qp_itmax
1000
options_qp_expand
99999999
options_sflag
0
options_options_wflag
0
options_cflag
0
options_output_ps
0
options_output_gif
0
options_plot_stage_marker
1
options_iest_hess_plitt
0
