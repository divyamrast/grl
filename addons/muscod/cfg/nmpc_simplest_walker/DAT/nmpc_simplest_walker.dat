******************************************************************************
* MUSCOD-II example
*
* Implementation of simplest walker model.
*
* Copyright (C) 2015, Manuel Kudruss, IWR, Heidelberg
******************************************************************************

*  # of multiple shooting intervals on model stages
nshoot
0: 30

*******************************************************************************
*  model parameters start values, scale factors, and bounds

p
  0:  4.0000000000000001E-03
  1:  1.2000000000000000E-01

p_min
  0:  -1.0
  1:  0.0

p_max
  0:   1.0 # slope
  1:   1.5 # vx_ref

p_fix
  0:   1 # slope
  1:   1 # vx_ref

p_sca
  0: 1.0
  1: 1.0

p_name
  0: !slope
  1: !vx_ref


*******************************************************************************
*  model stage duration start values, scale factors, and bounds

h
  0:  6.0

h_min
  0:  0.001 # single_support

h_max
  0:  6.0 # single_support

h_sca
  0:  0 # single_support

h_fix
  0:  1 # single_support

h_name
  0:  !single_support

*******************************************************************************
*  differential state start values, scale factors, and bounds

* specification mode for state variable start values
* 0 : all values sd(*,*), sa(*,*) specified in data file
* 1 : linear interpolation
* 2 : start values given, all others generated by integration

s_spec
2

################################################################################
# From RES file
################################################################################

sd_fix(0,0)
  0:  1
  1:  1
  2:  1
  3:  1
  4:  1

sd(0,0)  ! 0
  0:  -8.4694471984489827E-03
  1:  -7.7266945486856614E-02
  2:  -1.0287655357410812E-01
  3:  -4.1476355411694155E-01
  4:   0.0000000000000000E+00

sd(0,1)  ! 1
  0:  -2.9432393655018305E-02
  1:  -1.5437817545697252E-01
  2:  -1.0745101678973087E-01
  3:  -3.5452750651137327E-01
  4:   2.0958798519455625E-02

sd(0,2)  ! 2
  0:  -5.1736794891394162E-02
  1:  -2.2035822449068326E-01
  2:  -1.1633523243274130E-01
  3:  -3.0390162332968418E-01
  4:   4.3244371435725813E-02

sd(0,3)  ! 3
  0:  -7.6276838056091756E-02
  1:  -2.7622093288901239E-01
  2:  -1.2988075603543819E-01
  3:  -2.5380827682453133E-01
  4:   6.7733548565353130E-02

sd(0,4)  ! 4
  0:  -1.0403499504645325E-01
  1:  -3.0057380364213993E-01
  2:  -1.4862137329964381E-01
  3:   1.0043259523891662E-02
  4:   9.5378084021411222E-02

sd(0,5)  ! 6
  0:   1.3612013947367807E-01
  1:   2.7224027894735614E-01
  2:  -1.6690852103293682E-01
  3:  -6.1470863501563834E-03
  4:   0.0000000000000000E+00

sd(0,6)  ! 7
  0:   9.9587269188307848E-02
  1:   2.7245351702619175E-01
  2:  -1.3985017484940709E-01
  3:   6.3404452621370327E-03
  4:   3.6277434814963372E-02

sd(0,7)  ! 8
  0:   6.8545992523731808E-02
  1:   2.4278486830632456E-01
  2:  -1.2080082420406565E-01
  3:  -2.5447634849698691E-01
  4:   6.7207846798775492E-02

sd(0,8)  ! 9
  0:   4.1216161592072996E-02
  1:   1.4997928362922450E-01
  2:  -1.0868754770135296E-01
  3:  -5.1866135992022588E-01
  4:   9.4495680998202297E-02

sd(0,9)  ! 10
  0:   1.6027324866074763E-02
  1:   3.0113973469449665E-02
  2:  -1.0282390279757930E-01
  3:  -4.7937765751865918E-01
  4:   1.1967353540453310E-01

sd(0,10)  ! 11
  0:  -8.4694471984489827E-03
  1:  -7.7266945486856614E-02
  2:  -1.0287655357410812E-01
  3:  -4.1476355411694155E-01
  4:   1.4416952005813635E-01

sd(0,11)  ! 1
  0:  -2.9432393655018305E-02
  1:  -1.5437817545697252E-01
  2:  -1.0745101678973087E-01
  3:  -3.5452750651137327E-01
  4:   2.0958798519455625E-02

sd(0,12)  ! 2
  0:  -5.1736794891394162E-02
  1:  -2.2035822449068326E-01
  2:  -1.1633523243274130E-01
  3:  -3.0390162332968418E-01
  4:   4.3244371435725813E-02

sd(0,13)  ! 3
  0:  -7.6276838056091756E-02
  1:  -2.7622093288901239E-01
  2:  -1.2988075603543819E-01
  3:  -2.5380827682453133E-01
  4:   6.7733548565353130E-02

sd(0,14)  ! 4
  0:  -1.0403499504645325E-01
  1:  -3.0057380364213993E-01
  2:  -1.4862137329964381E-01
  3:   1.0043259523891662E-02
  4:   9.5378084021411222E-02

sd(0,15)  ! 6
  0:   1.3612013947367807E-01
  1:   2.7224027894735614E-01
  2:  -1.6690852103293682E-01
  3:  -6.1470863501563834E-03
  4:   0.0000000000000000E+00

sd(0,16)  ! 7
  0:   9.9587269188307848E-02
  1:   2.7245351702619175E-01
  2:  -1.3985017484940709E-01
  3:   6.3404452621370327E-03
  4:   3.6277434814963372E-02

sd(0,17)  ! 8
  0:   6.8545992523731808E-02
  1:   2.4278486830632456E-01
  2:  -1.2080082420406565E-01
  3:  -2.5447634849698691E-01
  4:   6.7207846798775492E-02

sd(0,18)  ! 9
  0:   4.1216161592072996E-02
  1:   1.4997928362922450E-01
  2:  -1.0868754770135296E-01
  3:  -5.1866135992022588E-01
  4:   9.4495680998202297E-02

sd(0,19)  ! 10
  0:   1.6027324866074763E-02
  1:   3.0113973469449665E-02
  2:  -1.0282390279757930E-01
  3:  -4.7937765751865918E-01
  4:   1.1967353540453310E-01

sd(0,20)  ! 11
  0:  -8.4694471984489827E-03
  1:  -7.7266945486856614E-02
  2:  -1.0287655357410812E-01
  3:  -4.1476355411694155E-01
  4:   1.4416952005813635E-01

sd(0,21)  ! 1
  0:  -2.9432393655018305E-02
  1:  -1.5437817545697252E-01
  2:  -1.0745101678973087E-01
  3:  -3.5452750651137327E-01
  4:   2.0958798519455625E-02

sd(0,22)  ! 2
  0:  -5.1736794891394162E-02
  1:  -2.2035822449068326E-01
  2:  -1.1633523243274130E-01
  3:  -3.0390162332968418E-01
  4:   4.3244371435725813E-02

sd(0,23)  ! 3
  0:  -7.6276838056091756E-02
  1:  -2.7622093288901239E-01
  2:  -1.2988075603543819E-01
  3:  -2.5380827682453133E-01
  4:   6.7733548565353130E-02

sd(0,24)  ! 4
  0:  -1.0403499504645325E-01
  1:  -3.0057380364213993E-01
  2:  -1.4862137329964381E-01
  3:   1.0043259523891662E-02
  4:   9.5378084021411222E-02

sd(0,25)  ! 6
  0:   1.3612013947367807E-01
  1:   2.7224027894735614E-01
  2:  -1.6690852103293682E-01
  3:  -6.1470863501563834E-03
  4:   0.0000000000000000E+00

sd(0,26)  ! 7
  0:   9.9587269188307848E-02
  1:   2.7245351702619175E-01
  2:  -1.3985017484940709E-01
  3:   6.3404452621370327E-03
  4:   3.6277434814963372E-02

sd(0,27)  ! 8
  0:   6.8545992523731808E-02
  1:   2.4278486830632456E-01
  2:  -1.2080082420406565E-01
  3:  -2.5447634849698691E-01
  4:   6.7207846798775492E-02

sd(0,28)  ! 9
  0:   4.1216161592072996E-02
  1:   1.4997928362922450E-01
  2:  -1.0868754770135296E-01
  3:  -5.1866135992022588E-01
  4:   9.4495680998202297E-02

sd(0,29)  ! 10
  0:   1.6027324866074763E-02
  1:   3.0113973469449665E-02
  2:  -1.0282390279757930E-01
  3:  -4.7937765751865918E-01
  4:   1.1967353540453310E-01

sd(0,30)  ! 11
  0:  -8.4694471984489827E-03
  1:  -7.7266945486856614E-02
  2:  -1.0287655357410812E-01
  3:  -4.1476355411694155E-01
  4:   1.4416952005813635E-01


u(0,0)  ! 0
  0:   2.0884191261079732E-01

u(0,1)  ! 1
  0:   1.1301338450336529E-01

u(0,2)  ! 2
  0:   7.5980100947743962E-02

u(0,3)  ! 3
  0:   1.1311985314416535E+00

u(0,4)  ! 4
  0:   1.1522355757795866E+00

u(0,5)  ! 6-
  0:   7.6609748776225171E-05

u(0,6)  ! 6
  0:   1.9984994997871450E-01

u(0,7)  ! 7
  0:  -9.1487897813260488E-01

u(0,8)  ! 8
  0:  -9.5722703356080041E-01

u(0,9)  ! 9
  0:   2.2770478502398384E-01

u(0,10)  ! 10
  0:   2.4562546066689833E-01

u(0,11)  ! 1
  0:   1.1301338450336529E-01

u(0,12)  ! 2
  0:   7.5980100947743962E-02

u(0,13)  ! 3
  0:   1.1311985314416535E+00

u(0,14)  ! 4
  0:   1.1522355757795866E+00

u(0,15)  ! 6-
  0:   7.6609748776225171E-05

u(0,16)  ! 6
  0:   1.9984994997871450E-01

u(0,17)  ! 7
  0:  -9.1487897813260488E-01

u(0,18)  ! 8
  0:  -9.5722703356080041E-01

u(0,19)  ! 9
  0:   2.2770478502398384E-01

u(0,20)  ! 10
  0:   2.4562546066689833E-01

u(0,21)  ! 1
  0:   1.1301338450336529E-01

u(0,22)  ! 2
  0:   7.5980100947743962E-02

u(0,23)  ! 3
  0:   1.1311985314416535E+00

u(0,24)  ! 4
  0:   1.1522355757795866E+00

u(0,25)  ! 6-
  0:   7.6609748776225171E-05

u(0,26)  ! 6
  0:   1.9984994997871450E-01

u(0,27)  ! 7
  0:  -9.1487897813260488E-01

u(0,28)  ! 8
  0:  -9.5722703356080041E-01

u(0,29)  ! 9
  0:   2.2770478502398384E-01

u(0,30)  ! 10
  0:   2.4562546066689833E-01

ue(0)  ! 11-
  0:   2.4562546066689833E-01

################################################################################

sd(*,*)
 0: 0.0
 1: 0.0
 2: 0.0
 3: 0.0
 4: 0.0

sd_min(*,*)
 0: -100.0
 1: -100.0
 2: -100.0
 3: -100.0
 4: -100.0

sd_max(*,*)
 0:  100.0
 1:  100.0
 2:  100.0
 3:  100.0
 4:  100.0

sd_sca(*,*)
ALL: 1.0

xd_name
 0: phi_st
 1: phi_h
 2: dphi_st
 3: dphi_h
 4: v_h_avg

*******************************************************************************
*  control parameterization types

u_type(*)
ALL: 0

*******************************************************************************
*  control start values, scale factors, and bounds

u(*,*)
 0: 0.0

u_sca(*,*)
 0: 1.0

u_min(*,*)
 0: -1.2

u_max(*,*)
 0:  1.2

u_name
 0: hip_actuation

*******************************************************************************
* decoupled i.p.c. scale factors

rd_sca(0,s)
ALL: 1.0

rd_sca(0,i)
ALL: 1.0

rd_sca(0,e)
ALL: 1.0

*******************************************************************************
* coupled i.p.c. scale factors

rc_sca
ALL: 1.0

*******************************************************************************
*  objective scale and expected range

of_sca
1.0

of_min
0.0

of_max
1000000.0

of_name
!

nhist
30

*******************************************************************************
* Choosing libraries *

libmodel
libnmpc_simplest_walker

libhessian
hess_update
hess_gaussnewton
hess_limitedmemoryupdate

libsolve
solve_fullstep
solve_slse

libcond
cond_min
cond_std

libtchk
tchk

libmssqp
mssqp_standard

libeval
eval_ind

libind
0: ind_rkfswt

libqps
qps_qpopt

libplot
plot_pgplot

*******************************************************************************
* Setting algorithmic parameters *

options_acc
1e-7
options_ftol
-1.0
options_itol
-1.0
options_rfac
0.0
options_levmar
0.0
options_qp_featol
1.0e-8
options_qp_relax
1.1
options_nhtopy
0
options_frstart
0
options_frmax
0
options_itmax
1000
options_plevel_screen
0
options_plevel_file
-1
options_plevel_matlab
-1
options_bflag
-1
options_qp_itmax
10000
options_qp_expand
99999999
options_sflag
0
options_options_wflag
0
options_cflag
0
options_output_ps
0
options_output_gif
0
options_plot_stage_marker
1
options_iest_hess_plitt
0
*******************************************************************************
