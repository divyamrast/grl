******************************************************************************
* MUSCOD-II example
*
* Implementation of simplest walker model.
*
* Copyright (C) 2015, Manuel Kudruss, IWR, Heidelberg
******************************************************************************

*  # of multiple shooting intervals on model stages
nshoot
0: 10
1: 10

*******************************************************************************
*  model parameters start values, scale factors, and bounds

p
  0:  4.0000000000000001E-03
  1:  1.2000000000000000E-01

p_min
  0:  -1.0
  1:  0.0

p_max
  0:   1.0 # slope
  1:   1.5 # vx_ref

p_fix
  0:   1 # slope
  1:   1 # vx_ref

p_sca
  0: 1.0
  1: 1.0

p_name
  0: !slope
  1: !vx_ref


*******************************************************************************
*  model stage duration start values, scale factors, and bounds

h
  0: 2.15
  1: 2.15

h_min
  0:  4.0
  1:  2.0

h_max
  0:  4.0
  1:  4.0

h_sca
  0:  1.0
  1:  1.0

h_fix
  0:  0
  1:  0

h_name
  0:  !single_support
  1:  !periodic_motion


*******************************************************************************
*  differential state start values, scale factors, and bounds

* specification mode for state variable start values
* 0 : all values sd(*,*), sa(*,*) specified in data file
* 1 : linear interpolation
* 2 : start values given, all others generated by integration

s_spec
0

* sd_min(0,0)
*   0:  -6.2751780980909912E-03
*   1:  -1.2550356196632036E-02
*   2:  -1.0493046762129674E-01
*   3:  -3.4196472762609620E-01
*
* sd_max(0,0)
*   0:  -6.2751780980909912E-03
*   1:  -1.2550356196632036E-02
*   2:  -1.0493046762129674E-01
*   3:  -3.4196472762609620E-01
*
* * use initial values from Bas, Vennemann
* sd_min(0,0)
*   0:  0.1534
*   1:  0.3068
*   2: -0.1561
*   3:  0.0073
*
* sd_max(0,0)
*   0:  0.1534
*   1:  0.3068
*   2: -0.1561
*   3:  0.0073

################################################################################
# From RES file
################################################################################

sd(0,0)  ! 0
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01

sd(0,1)  ! 1
  0:  -2.9243541445762015E-02
  1:  -8.2313254752916704E-02
  2:  -1.0958948828827657E-01
  3:  -3.0546647392473175E-01

sd(0,2)  ! 2
  0:  -5.3753595630129228E-02
  1:  -1.4390025957227290E-01
  2:  -1.1932885420009154E-01
  3:  -2.6626771341868843E-01

sd(0,3)  ! 3
  0:  -8.0940979696376592E-02
  1:  -1.9710580853363507E-01
  2:  -1.3459367639206848E-01
  3:  -2.2791958247758026E-01

sd(0,4)  ! 4
  0:  -1.1206340582738179E-01
  1:  -2.4248691913065548E-01
  2:  -1.5607826209245215E-01
  3:  -1.9394311985423343E-01

sd(0,5)  ! 5
  0:   1.2296831191541745E-01
  1:   2.6895091034974145E-01
  2:  -1.5824537429933236E-01
  3:  -3.0086419990571999E-02

sd(0,6)  ! 6
  0:   9.1443452050424881E-02
  1:   2.4802895298092895E-01
  2:  -1.3618484147444207E-01
  3:  -1.6507927561001107E-01

sd(0,7)  ! 7
  0:   6.3969263955023115E-02
  1:   2.0129022283086737E-01
  2:  -1.2041619359899450E-01
  3:  -2.6920676912090563E-01

sd(0,8)  ! 8
  0:   3.9274993730047281E-02
  1:   1.3634843721327611E-01
  2:  -1.1022259686911375E-01
  3:  -3.3365559532904049E-01

sd(0,9)  ! 9
  0:   1.6216585069619583E-02
  1:   6.2349454972024321E-02
  2:  -1.0513832690446634E-01
  3:  -3.5305511588764460E-01

sd(0,10)  ! 10
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01

sd(1,0)  ! 0
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01

sd(1,1)  ! 1
  0:  -2.9243541445762015E-02
  1:  -8.2313254752916704E-02
  2:  -1.0958948828827657E-01
  3:  -3.0546647392473175E-01

sd(1,2)  ! 2
  0:  -5.3753595630129228E-02
  1:  -1.4390025957227290E-01
  2:  -1.1932885420009154E-01
  3:  -2.6626771341868843E-01

sd(1,3)  ! 3
  0:  -8.0940979696376592E-02
  1:  -1.9710580853363507E-01
  2:  -1.3459367639206848E-01
  3:  -2.2791958247758026E-01

sd(1,4)  ! 4
  0:  -1.1206340582738179E-01
  1:  -2.4248691913065548E-01
  2:  -1.5607826209245215E-01
  3:  -1.9394311985423343E-01

sd(1,5)  ! 5
  0:   1.2296831191541745E-01
  1:   2.6895091034974145E-01
  2:  -1.5824537429933236E-01
  3:  -3.0086419990571999E-02

sd(1,6)  ! 6
  0:   9.1443452050424881E-02
  1:   2.4802895298092895E-01
  2:  -1.3618484147444207E-01
  3:  -1.6507927561001107E-01

sd(1,7)  ! 7
  0:   6.3969263955023115E-02
  1:   2.0129022283086737E-01
  2:  -1.2041619359899450E-01
  3:  -2.6920676912090563E-01

sd(1,8)  ! 8
  0:   3.9274993730047281E-02
  1:   1.3634843721327611E-01
  2:  -1.1022259686911375E-01
  3:  -3.3365559532904049E-01

sd(1,9)  ! 9
  0:   1.6216585069619583E-02
  1:   6.2349454972024321E-02
  2:  -1.0513832690446634E-01
  3:  -3.5305511588764460E-01

sd(1,10)  ! 10
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01

u(0,0)  ! 0
  0:   1.4397565789649980E-01

u(0,1)  ! 1
  0:   1.1572773269332211E-01

u(0,2)  ! 2
  0:   8.2260570977623820E-02

u(0,3)  ! 3
  0:   4.5126837702706660E-02

u(0,4)  ! 4
  0:  -1.8817221727901826E-01

u(0,5)  ! 5
  0:  -4.7960525597918874E-01

u(0,6)  ! 6
  0:  -3.3749195437159490E-01

u(0,7)  ! 7
  0:  -1.8055573799195307E-01

u(0,8)  ! 8
  0:  -1.5574939636174514E-02

u(0,9)  ! 9
  0:   7.5046750472690438E-02

ue(0)  ! 10-
  0:   7.5046750472690438E-02

u(1,0)  ! 0
  0:   1.4397565789649980E-01

u(1,1)  ! 1
  0:   1.1572773269332211E-01

u(1,2)  ! 2
  0:   8.2260570977623820E-02

u(1,3)  ! 3
  0:   4.5126837702706660E-02

u(1,4)  ! 4
  0:  -1.8817221727901826E-01

u(1,5)  ! 5
  0:  -4.7960525597918874E-01

u(1,6)  ! 6
  0:  -3.3749195437159490E-01

u(1,7)  ! 7
  0:  -1.8055573799195307E-01

u(1,8)  ! 8
  0:  -1.5574939636174514E-02

u(1,9)  ! 9
  0:   7.5046750472690438E-02

ue(1)  ! 10-
  0:   7.5046750472690438E-02

################################################################################

sd(0,0)
    0: 1.1380800000000001E-01 # phi_st
    1: 2.5421500000000002E-01 # phi_h
    2: -1.2214200000000000E-01 # dphi_st
    3: -4.1900000000000000E-02 # dphi_h

sd(0,1)
    0: 9.1416999999999998E-02 # phi_st
    1: 2.3321700000000001E-01 # phi_h
    2: -1.0251700000000000E-01 # dphi_st
    3: -1.6820399999999999E-01 # dphi_h

sd(0,2)
    0: 7.2528999999999996E-02 # phi_st
    1: 1.9301299999999999E-01 # phi_h
    2: -8.6989999999999998E-02 # dphi_st
    3: -2.3320299999999999E-01 # dphi_h

sd(0,3)
    0: 5.6389000000000002E-02 # phi_st
    1: 1.4029400000000000E-01 # phi_h
    2: -7.4945999999999999E-02 # dphi_st
    3: -2.9281900000000000E-01 # dphi_h

sd(0,4)
    0: 4.2351000000000000E-02 # phi_st
    1: 8.0315999999999999E-02 # phi_h
    2: -6.5905000000000005E-02 # dphi_st
    3: -3.0545899999999998E-01 # dphi_h

sd(0,5)
    0: 2.9850999999999999E-02 # phi_st
    1: 1.3783000000000000E-02 # phi_h
    2: -5.9506999999999997E-02 # dphi_st
    3: -3.5808099999999998E-01 # dphi_h

sd(0,6)
    0: 1.8388999999999999E-02 # phi_st
    1: -6.4468999999999999E-02 # phi_h
    2: -5.5496999999999998E-02 # dphi_st
    3: -4.2222399999999999E-01 # dphi_h

sd(0,7)
    0: 7.5040000000000003E-03 # phi_st
    1: -1.5627600000000000E-01 # phi_h
    2: -5.3713999999999998E-02 # dphi_st
    3: -4.9316800000000000E-01 # dphi_h

sd(0,8)
    0: -3.2399999999999998E-03 # phi_st
    1: -2.4908800000000000E-01 # phi_h
    2: -5.4086000000000002E-02 # dphi_st
    3: -4.3228800000000001E-01 # dphi_h

sd(0,9)
    0: -1.4274999999999999E-02 # phi_st
    1: -3.2657399999999998E-01 # phi_h
    2: -5.6628999999999999E-02 # dphi_st
    3: -3.4047400000000000E-01 # dphi_h

sd(0,10)
    0: -2.6043000000000000E-02 # phi_st
    1: -3.8151000000000002E-01 # phi_h
    2: -6.1443999999999999E-02 # dphi_st
    3: -2.0757999999999999E-01 # dphi_h

sd(0,11)
    0: -3.9017000000000003E-02 # phi_st
    1: -4.0708899999999998E-01 # phi_h
    2: -6.8723999999999993E-02 # dphi_st
    3: -4.7881000000000000E-02 # dphi_h

sd(0,12)
    0: -5.3716000000000000E-02 # phi_st
    1: -4.0390799999999999E-01 # phi_h
    2: -7.8759999999999997E-02 # dphi_st
    3: 7.9077999999999996E-02 # dphi_h

sd(0,13)
    0: -7.0731000000000002E-02 # phi_st
    1: -3.8075999999999999E-01 # phi_h
    2: -9.1951000000000005E-02 # dphi_st
    3: 1.5108500000000000E-01 # dphi_h

sd(0,14)
    0: -9.0742000000000003E-02 # phi_st
    1: -3.4664400000000001E-01 # phi_h
    2: -1.0882100000000000E-01 # dphi_st
    3: 1.8830800000000000E-01 # dphi_h

sd(0,15)
    0: -1.1454900000000000E-01 # phi_st
    1: -3.0819000000000002E-01 # phi_h
    2: -1.3003899999999999E-01 # dphi_st
    3: 1.9417000000000001E-01 # dphi_h

sd(0,16)
    0: 1.3091200000000000E-01 # phi_st
    1: 2.7333800000000003E-01 # phi_h
    2: -1.3959099999999999E-01 # dphi_st
    3: -4.9919999999999999E-03 # dphi_h

sd(0,17)
    0: 1.0534800000000000E-01 # phi_st
    1: 2.6230399999999998E-01 # phi_h
    2: -1.1689099999999999E-01 # dphi_st
    3: -1.0592300000000000E-01 # dphi_h

sd(0,18)
    0: 8.3845000000000003E-02 # phi_st
    1: 2.3079100000000000E-01 # phi_h
    2: -9.8855999999999999E-02 # dphi_st
    3: -2.0896799999999999E-01 # dphi_h

sd(0,19)
    0: 6.5542000000000003E-02 # phi_st
    1: 1.8289300000000000E-01 # phi_h
    2: -8.4777000000000005E-02 # dphi_st
    3: -2.6910699999999999E-01 # dphi_h

sd(0,20)
    0: 4.9708000000000002E-02 # phi_st
    1: 1.2301300000000000E-01 # phi_h
    2: -7.4092000000000005E-02 # dphi_st
    3: -3.2826699999999998E-01 # dphi_h

sd(1,0)
    0: 4.9708000000000002E-02 # phi_st
    1: 1.2301300000000000E-01 # phi_h
    2: -7.4092000000000005E-02 # dphi_st
    3: -3.2826699999999998E-01 # dphi_h

sd(1,1)
    0: 3.5707000000000003E-02 # phi_st
    1: 5.3681000000000000E-02 # phi_h
    2: -6.6378000000000006E-02 # dphi_st
    3: -3.6323800000000001E-01 # dphi_h

sd(1,2)
    0: 2.2978999999999999E-02 # phi_st
    1: -2.5222000000000001E-02 # phi_h
    2: -6.1327000000000000E-02 # dphi_st
    3: -4.2359599999999997E-01 # dphi_h

sd(1,3)
    0: 1.1013000000000000E-02 # phi_st
    1: -1.1403600000000000E-01 # phi_h
    2: -5.8736999999999998E-02 # dphi_st
    3: -4.6199800000000002E-01 # dphi_h

sd(1,4)
    0: -6.7199999999999996E-04 # phi_st
    1: -2.0420199999999999E-01 # phi_h
    2: -5.8504000000000000E-02 # dphi_st
    3: -4.3709300000000001E-01 # dphi_h

sd(1,5)
    0: -1.2545000000000001E-02 # phi_st
    1: -2.8436899999999998E-01 # phi_h
    2: -6.0617999999999998E-02 # dphi_st
    3: -3.6238999999999999E-01 # dphi_h

sd(1,6)
    0: -2.5082000000000000E-02 # phi_st
    1: -3.4477000000000002E-01 # phi_h
    2: -6.5165000000000001E-02 # dphi_st
    3: -2.4014099999999999E-01 # dphi_h

sd(1,7)
    0: -3.8785000000000000E-02 # phi_st
    1: -3.7840699999999999E-01 # phi_h
    2: -7.2327000000000002E-02 # dphi_st
    3: -9.5662999999999998E-02 # dphi_h

sd(1,8)
    0: -5.4205000000000003E-02 # phi_st
    1: -3.8479300000000000E-01 # phi_h
    2: -8.2388000000000003E-02 # dphi_st
    3: 3.1458000000000000E-02 # dphi_h

sd(1,9)
    0: -7.1959999999999996E-02 # phi_st
    1: -3.6943100000000001E-01 # phi_h
    2: -9.5750000000000002E-02 # dphi_st
    3: 1.2105500000000000E-01 # dphi_h

sd(1,10)
    0: -9.2759999999999995E-02 # phi_st
    1: -3.3921099999999998E-01 # phi_h
    2: -1.1294300000000000E-01 # dphi_st
    3: 1.7945900000000001E-01 # dphi_h

* control start values, scale factors, and bounds
u(0,0)
    0: -4.9054599999999998E-01 # tau_h

u(0,1)
    0: -1.9263500000000000E-01 # tau_h

u(0,2)
    0: -1.9286100000000000E-01 # tau_h

u(0,3)
    0: 1.2019999999999999E-03 # tau_h

u(0,4)
    0: -2.4741900000000000E-01 # tau_h

u(0,5)
    0: -3.6495200000000000E-01 # tau_h

u(0,6)
    0: -4.7224400000000000E-01 # tau_h

u(0,7)
    0: 1.0462800000000000E-01 # tau_h

u(0,8)
    0: 1.8741500000000000E-01 # tau_h

u(0,9)
    0: 3.4113500000000002E-01 # tau_h

u(0,10)
    0: 4.5017499999999999E-01 # tau_h

u(0,11)
    0: 2.9119800000000001E-01 # tau_h

u(0,12)
    0: 4.6156000000000003E-02 # tau_h

u(0,13)
    0: -8.0990000000000006E-02 # tau_h

u(0,14)
    0: -1.7990600000000001E-01 # tau_h

u(0,15)
    0: 1.4247499999999999E-01 # tau_h

u(0,16)
    0: -3.5800199999999999E-01 # tau_h

u(0,17)
    0: -3.6354900000000001E-01 # tau_h

u(0,18)
    0: -1.6702700000000001E-01 # tau_h

u(0,19)
    0: -1.9710400000000000E-01 # tau_h

ue(0)
    0: -1.2514100000000000E-01 # tau_h

u(1,0)
    0: -1.2514100000000000E-01 # tau_h

u(1,1)
    0: -3.1189200000000000E-01 # tau_h

u(1,2)
    0: -2.7362199999999998E-01 # tau_h

u(1,3)
    0: -3.4903999999999998E-02 # tau_h

u(1,4)
    0: 1.4195600000000000E-01 # tau_h

u(1,5)
    0: 3.2399499999999998E-01 # tau_h

u(1,6)
    0: 4.0410800000000002E-01 # tau_h

u(1,7)
    0: 3.1424600000000003E-01 # tau_h

u(1,8)
    0: 1.4891399999999999E-01 # tau_h

u(1,9)
    0: 3.5187999999999997E-02 # tau_h

u(1,10)
    0: -2.3739199999999999E-01 # tau_h

ue(1)
    0: -2.3739199999999999E-01 # tau_h

################################################################################

sd(0,0)  ! 0
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01

sd(0,1)  ! 1
  0:  -2.7607626940289457E-02
  1:  -7.7819383915545756E-02
  2:  -1.0910446177023989E-01
  3:  -3.0928925607097013E-01

sd(0,2)  ! 2
  0:  -5.0208336828066122E-02
  1:  -1.3624001302989847E-01
  2:  -1.1765478705462008E-01
  3:  -2.7376946937887675E-01

sd(0,3)  ! 3
  0:  -7.4983440157058712E-02
  1:  -1.8751897098212722E-01
  2:  -1.3091969297806960E-01
  3:  -2.3821263592771388E-01

sd(0,4)  ! 4
  0:  -1.0292491549807056E-01
  1:  -2.3192785637108634E-01
  2:  -1.4942179778913200E-01
  3:  -2.0544362592210622E-01

sd(0,5)  ! 5
  0:  -1.3514908672883369E-01
  1:  -2.7029817345768659E-01
  2:  -1.7388522365340717E-01
  3:  -1.7822594217003027E-01

sd(0,6)  ! 7
  0:   9.9754597586274502E-02
  1:   2.5364395274742979E-01
  2:  -1.4165720609094842E-01
  3:  -1.3965333700567342E-01

sd(0,7)  ! 8
  0:   6.9436109771313592E-02
  1:   2.0909932283639820E-01
  2:  -1.2322816853243646E-01
  3:  -2.4741727946996625E-01

sd(0,8)  ! 9
  0:   4.2589365698222484E-02
  1:   1.4382639361710506E-01
  2:  -1.1132735092243021E-01
  3:  -3.1899458295275984E-01

sd(0,9)  ! 10
  0:   1.7790990377258547E-02
  1:   6.6967231437173536E-02
  2:  -1.0533286805196726E-01
  3:  -3.4763463397488026E-01

sd(0,10)  ! 11
  0:  -6.2751780980909912E-03
  1:  -1.2550356196632036E-02
  2:  -1.0493046762129674E-01
  3:  -3.4196472762609620E-01


u(0,0)  ! 0
  0:   1.3907958403873616E-01

u(0,1)  ! 1
  0:   1.1443785069037564E-01

u(0,2)  ! 2
  0:   8.5232940900533682E-02

u(0,3)  ! 3
  0:   5.2657943853233823E-02

u(0,4)  ! 4
  0:   1.7889041794133649E-02

u(0,5)  ! 5
  0:  -1.0795398920199663E-10

u(0,6)  ! 6
  0:  -4.4009226909919280E-01

u(0,7)  ! 7
  0:  -3.2235382742438368E-01

u(0,8)  ! 8
  0:  -1.8888098231082659E-01

u(0,9)  ! 9
  0:  -4.6194990218760189E-02

u(0,10)  ! 10
  0:   4.9700889225825023E-02

ue(0)  ! 11-
  0:   4.9700889225825023E-02

################################################################################

sd_sca(*,*)
ALL: 1.0

sd(*,*)
 0: 0.0
 1: 0.0
 2: 0.0
 3: 0.0

sd_min(*,*)
 0: -100.0
 1: -100.0
 2: -100.0
 3: -100.0

sd_max(*,*)
 0:  100.0
 1:  100.0
 2:  100.0
 3:  100.0

xd_name
 0: phi_st
 1: phi_h
 2: dphi_st
 3: dphi_h

*******************************************************************************
*  control parameterization types

u_type(*)
ALL: 0

*******************************************************************************
*  control start values, scale factors, and bounds

u(*,*)
 0: 0.0

u_sca(*,*)
 0: 1.0

u_min(*,*)
 0: -10

u_max(*,*)
 0:  10

u_name
 0: hip_actuation

*******************************************************************************
* decoupled i.p.c. scale factors

rd_sca(0,s)
ALL: 1.0

rd_sca(0,i)
ALL: 1.0

rd_sca(0,e)
ALL: 1.0

*******************************************************************************
* coupled i.p.c. scale factors

rc_sca
ALL: 1.0

*******************************************************************************
*  objective scale and expected range; # of values in history plot

of_sca
1.0

of_min
0.0

of_max
1000000.0

of_name
!

nhist
30

*******************************************************************************
* Choosing libraries *

libmodel
libssiwr_nmpc_stageless

libhessian
hess_gaussnewton
hess_update
hess_const
hess_limitedmemoryupdate

libsolve
solve_fullstep
solve_slse

libcond
cond_min
cond_std

libtchk
tchk

libmssqp
mssqp_standard

libeval
eval_ind

libind
0: ind_rkfswt

libqps
qps_qpopt

libplot
plot_noplot
plot_pgplot

*******************************************************************************
* Setting algorithmic parameters *

options_acc
1e-7
options_ftol
-1.0
options_itol
-1.0
options_rfac
0.0
options_levmar
0.0
options_qp_featol
1.0e-8
options_qp_relax
1.1
options_nhtopy
0
options_frstart
0
options_frmax
0
options_itmax
1000
options_plevel_screen
0
options_plevel_file
-1
options_plevel_matlab
-1
options_bflag
-1
options_qp_itmax
10000
options_qp_expand
99999999
options_sflag
0
options_options_wflag
0
options_cflag
0
options_output_ps
0
options_output_gif
0
options_plot_stage_marker
1
options_iest_hess_plitt
1
*******************************************************************************
